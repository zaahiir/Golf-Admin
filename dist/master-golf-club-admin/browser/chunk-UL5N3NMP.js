import{a as oe}from"./chunk-DVM5LER3.js";import{$a as Z,Fa as G,Ga as U,Ha as s,Ia as L,Ja as V,L as B,Oa as $,Pa as j,R as M,Ra as z,S as T,U as q,Ua as H,Va as Y,Wa as J,Xa as K,Ya as Q,Za as W,_a as X,bb as ee,c as _,ca as D,d as h,da as N,ea as O,ga as R,h as I,ha as A,ja as P,ka as w,u as E}from"./chunk-45BFYFPT.js";import{Jb as e,Kb as t,Lb as f,Tb as k,Ub as b,cb as i,db as v,dc as a,fc as p,gc as x,hc as C,ia as y,mc as F,tb as u,zb as n}from"./chunk-IO45J2MB.js";import{f as ie,k as g}from"./chunk-AAPNLDO3.js";var S=ie(oe());function re(o,c){if(o&1&&(e(0,"c-form-feedback",30),a(1),t()),o&2){let l=b();n("valid",!1),i(),p(" ",l.getErrorMessage("memberId")," ")}}function ne(o,c){if(o&1&&(e(0,"option",31),a(1),t()),o&2){let l=c.$implicit;n("value",l.id),i(),C(" ",l.name," (",l.holes," holes, ",l.difficulty," difficulty) ")}}function ae(o,c){if(o&1&&(e(0,"c-form-feedback",30),a(1),t()),o&2){let l=b();n("valid",!1),i(),p(" ",l.getErrorMessage("courseId")," ")}}function le(o,c){if(o&1&&(e(0,"c-form-feedback",30),a(1),t()),o&2){let l=b();n("valid",!1),i(),p(" ",l.getErrorMessage("bookingDate")," ")}}function me(o,c){if(o&1&&(e(0,"option",31),a(1),t()),o&2){let l=c.$implicit;n("value",l.time),i(),p(" ",l.time," ")}}function ce(o,c){if(o&1&&(e(0,"c-form-feedback",30),a(1),t()),o&2){let l=b();n("valid",!1),i(),p(" ",l.getErrorMessage("timeSlot")," ")}}function de(o,c){if(o&1&&(e(0,"c-form-feedback",30),a(1),t()),o&2){let l=b();n("valid",!1),i(),p(" ",l.getErrorMessage("numberOfPlayers")," ")}}function se(o,c){if(o&1&&(e(0,"c-col",23)(1,"div",32)(2,"strong"),a(3,"Booking Summary:"),t(),e(4,"p"),a(5),t(),e(6,"p"),a(7),t()()()),o&2){let l,m,r=b();i(5),x("Course: ",(l=r.getSelectedCourse())==null?null:l.name," (",(l=r.getSelectedCourse())==null?null:l.holes," holes)"),i(2),p("Difficulty: ",(m=r.getSelectedCourse())==null?null:m.difficulty,"")}}var xe=(()=>{let c=class c{constructor(m,r){this.formBuilder=m,this.router=r,this.submitted=!1,this.loading=!1,this.courses=[{id:1,name:"Championship Course",holes:18,difficulty:"Hard"},{id:2,name:"Meadow Course",holes:9,difficulty:"Easy"},{id:3,name:"Lake Course",holes:18,difficulty:"Medium"}],this.timeSlots=[{time:"06:00 AM",available:!0},{time:"07:00 AM",available:!0},{time:"08:00 AM",available:!0},{time:"09:00 AM",available:!1},{time:"10:00 AM",available:!0},{time:"11:00 AM",available:!0},{time:"12:00 PM",available:!1},{time:"01:00 PM",available:!0},{time:"02:00 PM",available:!0},{time:"03:00 PM",available:!0}]}ngOnInit(){this.initializeBookingForm()}initializeBookingForm(){let m=new Date().toISOString().split("T")[0];this.bookingForm=this.formBuilder.group({memberId:["",[s.required]],courseId:["",[s.required]],bookingDate:[m,[s.required]],timeSlot:["",[s.required]],numberOfPlayers:[1,[s.required,s.min(1),s.max(4)]],additionalGuests:[0,[s.min(0),s.max(3)]],cartRequired:[!1],specialRequirements:[""]})}get f(){return this.bookingForm.controls}isFieldInvalid(m){let r=this.bookingForm.get(m);return!!(r&&r.invalid&&(r.dirty||r.touched||this.submitted))}getErrorMessage(m){let r=this.bookingForm.get(m);return!r||!r.errors?"":r.errors.required?"This field is required":r.errors.min?`Minimum value is ${r.errors.min.min}`:r.errors.max?`Maximum value is ${r.errors.max.max}`:"Invalid input"}getAvailableTimeSlots(){return this.timeSlots.filter(m=>m.available)}getSelectedCourse(){let m=this.bookingForm.get("courseId")?.value;return this.courses.find(r=>r.id===Number(m))}onSubmit(){return g(this,null,function*(){if(this.submitted=!0,!this.bookingForm.invalid)try{this.loading=!0,yield this.submitBooking(this.bookingForm.value),yield S.default.fire({title:"Booking Successful!",text:"Your tee time has been booked successfully.",icon:"success",confirmButtonText:"Ok"}),this.router.navigate(["/bookings"])}catch(m){console.error("Booking submission error:",m),yield S.default.fire({title:"Booking Failed",text:"Unable to complete your booking. Please try again.",icon:"error",confirmButtonText:"Ok"})}finally{this.loading=!1}})}onReset(){this.submitted=!1,this.bookingForm.reset({bookingDate:new Date().toISOString().split("T")[0],numberOfPlayers:1,additionalGuests:0,cartRequired:!1})}submitBooking(m){return g(this,null,function*(){yield new Promise(r=>setTimeout(r,1e3)),console.log("Booking submitted:",m)})}};c.\u0275fac=function(r){return new(r||c)(v(Z),v(E))},c.\u0275cmp=y({type:c,selectors:[["app-update-booking"]],standalone:!0,features:[F],decls:59,vars:19,consts:[["xs","12"],[1,"mb-4"],["cForm","",1,"row","g-3","needs-validation",3,"ngSubmit","formGroup"],["md","6",3,"cFormFloating"],["cFormControl","","id","memberId","formControlName","memberId","required","","type","text","placeholder","Member ID"],["cLabel","","for","memberId",1,"ms-2"],[3,"valid",4,"ngIf"],["cSelect","","id","courseId","formControlName","courseId","required",""],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["cLabel","","for","courseId",1,"ms-2"],["cFormControl","","id","bookingDate","formControlName","bookingDate","required","","type","date","placeholder","Booking Date"],["cLabel","","for","bookingDate",1,"ms-2"],["cSelect","","id","timeSlot","formControlName","timeSlot","required",""],["cLabel","","for","timeSlot",1,"ms-2"],["cFormControl","","id","numberOfPlayers","formControlName","numberOfPlayers","required","","type","number","min","1","max","4","placeholder","Number of Players"],["cLabel","","for","numberOfPlayers",1,"ms-2"],["cFormControl","","id","additionalGuests","formControlName","additionalGuests","type","number","min","0","max","3","placeholder","Additional Guests"],["cLabel","","for","additionalGuests",1,"ms-2"],["md","6"],[1,"form-check"],["cFormControl","","type","checkbox","id","cartRequired","formControlName","cartRequired",1,"form-check-input"],["for","cartRequired",1,"form-check-label"],["md","12"],[3,"cFormFloating"],["cFormControl","","id","specialRequirements","formControlName","specialRequirements","placeholder","Any special requirements or notes","rows","3"],["cLabel","","for","specialRequirements",1,"ms-2"],["md","12",4,"ngIf"],["cButton","","color","primary","type","submit",1,"me-1",3,"disabled"],["cButton","","color","secondary","type","button",3,"click","disabled"],[3,"valid"],[3,"value"],[1,"alert","alert-info"]],template:function(r,d){r&1&&(e(0,"c-row")(1,"c-col",0)(2,"c-card",1)(3,"c-card-header")(4,"strong"),a(5,"Update Tee Time"),t()(),e(6,"c-card-body")(7,"form",2),k("ngSubmit",function(){return d.onSubmit()}),e(8,"c-col",3),f(9,"input",4),e(10,"label",5),a(11,"Member ID"),t(),u(12,re,2,2,"c-form-feedback",6),t(),e(13,"c-col",3)(14,"select",7)(15,"option",8),a(16,"Select Course"),t(),u(17,ne,2,4,"option",9),t(),e(18,"label",10),a(19,"Golf Course"),t(),u(20,ae,2,2,"c-form-feedback",6),t(),e(21,"c-col",3),f(22,"input",11),e(23,"label",12),a(24,"Booking Date"),t(),u(25,le,2,2,"c-form-feedback",6),t(),e(26,"c-col",3)(27,"select",13)(28,"option",8),a(29,"Select Tee Time"),t(),u(30,me,2,2,"option",9),t(),e(31,"label",14),a(32,"Tee Time"),t(),u(33,ce,2,2,"c-form-feedback",6),t(),e(34,"c-col",3),f(35,"input",15),e(36,"label",16),a(37,"Number of Players"),t(),u(38,de,2,2,"c-form-feedback",6),t(),e(39,"c-col",3),f(40,"input",17),e(41,"label",18),a(42,"Additional Guests (Optional)"),t()(),e(43,"c-col",19)(44,"div",20),f(45,"input",21),e(46,"label",22),a(47," Golf Cart Required "),t()()(),e(48,"c-col",23)(49,"div",24),f(50,"textarea",25),e(51,"label",26),a(52,"Special Requirements (Optional)"),t()()(),u(53,se,8,3,"c-col",27),e(54,"c-col",0)(55,"button",28),a(56),t(),e(57,"button",29),k("click",function(){return d.onReset()}),a(58," Reset Form "),t()()()()()()()),r&2&&(i(7),n("formGroup",d.bookingForm),i(),n("cFormFloating",!0),i(4),n("ngIf",d.isFieldInvalid("memberId")),i(),n("cFormFloating",!0),i(4),n("ngForOf",d.courses),i(3),n("ngIf",d.isFieldInvalid("courseId")),i(),n("cFormFloating",!0),i(4),n("ngIf",d.isFieldInvalid("bookingDate")),i(),n("cFormFloating",!0),i(4),n("ngForOf",d.getAvailableTimeSlots()),i(3),n("ngIf",d.isFieldInvalid("timeSlot")),i(),n("cFormFloating",!0),i(4),n("ngIf",d.isFieldInvalid("numberOfPlayers")),i(),n("cFormFloating",!0),i(10),n("cFormFloating",!0),i(4),n("ngIf",d.getSelectedCourse()),i(2),n("disabled",d.loading),i(),p(" ",d.loading?"Booking...":"Book Tee Time"," "),i(),n("disabled",d.loading))},dependencies:[I,_,h,ee,$,J,K,U,j,G,Y,L,V,X,W,Q,z,H,w,P,M,q,T,A,R,O,D,B,N]});let o=c;return o})();export{xe as UpdateBookingComponent};
